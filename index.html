<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BA_spectralGate - VST Plugin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=AW-16935186142"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "AW-16935186142");
    </script>
    <script>
      function gtag_report_conversion(url) {
        var callback = function () {
          if (typeof url != "undefined") {
            window.location = url;
          }
        };
        gtag("event", "conversion", {
          send_to: "AW-16935186142/lGhmCK7Oo7saEN7dqYs_",
          value: 0.1,
          currency: "EUR",
          event_callback: callback,
        });
        return false;
      }
    </script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background-color: #f5f5f5;
        color: #000000;
        line-height: 1.6;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2rem;
        position: relative;
      }

      .sparkle-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
        pointer-events: none;
        opacity: 0.7;
        mix-blend-mode: screen;
      }

      .container {
        width: 100%;
        height: 80vh;
        max-width: 1400px;
        background: #ffffff;
        border-radius: 12px;
        padding: 4rem;
        padding-bottom: 1rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        position: relative;
        z-index: 1;
        margin: 2rem 0;
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 4rem;
        align-items: start;
      }

      .content {
        grid-column: 1 / 2;
        display: flex;
        flex-direction: column;
      }

      .image-section {
        grid-column: 2 / 3;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .form-section {
        grid-column: 3 / 4;
        padding-left: 2rem;
        border-left: 1px solid #f0f0f0;
      }

      h1 {
        font-size: 2.8rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: #000000;
        line-height: 1.2;
      }

      h2 {
        font-size: 1.7rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        color: #000000;
      }

      p {
        font-size: 1.1rem;
        color: #404040;
        margin-bottom: 2rem;
        line-height: 1.7;
      }

      .plugin-img {
        width: 100%;
        max-width: 600px;
        height: auto;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        display: block;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      input[type="email"] {
        width: 100%;
        padding: 1rem;
        border: 1px solid #e0e0e0;
        border-radius: 6px;
        font-size: 1rem;
        color: #000000;
        background-color: #ffffff;
        transition: all 0.2s ease;
      }

      input[type="email"]::placeholder {
        color: #808080;
      }

      input[type="email"]:focus {
        outline: none;
        border-color: #000000;
        box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
      }

      button {
        width: 100%;
        padding: 1rem;
        background-color: #000000;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;
        z-index: 2;
      }

      button:hover {
        background-color: #404040;
        transform: translateY(-1px);
      }

      button:active {
        transform: translateY(0);
      }

      #msg {
        margin-top: 1rem;
        font-size: 1rem;
        font-weight: 500;
        padding: 0.75rem;
        text-align: center;
        position: relative;
        z-index: 2;
        border-radius: 6px;
      }

      #msg.success {
        color: #000000;
        background-color: #f0f0f0;
      }

      #msg.error {
        color: #000000;
        background-color: #f0f0f0;
        border-left: 3px solid #ff0000;
      }

      .footer {
        margin-top: 3rem;
        font-size: 0.9rem;
        color: #808080;
        text-align: center;
        position: relative;
        z-index: 2;
        grid-column: 1 / -1;
      }

      @media (max-width: 1024px) {
        .container {
          grid-template-columns: 1fr;
          max-width: 800px;
          padding: 3rem;
          gap: 2rem;
        }

        .content,
        .image-section,
        .form-section {
          grid-column: 1 / -1;
        }

        .form-section {
          padding-left: 0;
          border-left: none;
          padding-top: 2rem;
          border-top: 1px solid #f0f0f0;
        }

        .plugin-img {
          max-width: 100%;
        }
      }

      @media (max-width: 768px) {
        body {
          padding: 1.5rem;
        }

        .container {
          padding: 2.5rem;
        }

        h1 {
          font-size: 2.2rem;
        }

        h2 {
          font-size: 1.5rem;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 2rem;
          border-radius: 0;
          box-shadow: none;
          margin: 0;
        }

        h1 {
          font-size: 2rem;
        }

        .plugin-img {
          margin: 1.5rem 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="content">
        <h1>BA_spectralGate</h1>
        <p>
          BA_spectralGate is an audio plugin designed to transform your sound
          with spectral gating. Created as part of my bachelor's thesis, this
          tool adds subtle yet interesting artifacts to your audio, helping you
          create unique textures for sound design and music production.
        </p>
      </div>

      <div class="image-section">
        <img
          class="plugin-img"
          src="img/ba_specgate.png"
          alt="Spectral Gate Plugin Interface"
          onerror="this.style.display='none'"
        />
      </div>

      <div class="form-section">
        <h2>Try it for free when it's ready!</h2>
        <p>
          Sign up below, and you'll be the first to know when it's available!
        </p>

        <div class="form-group">
          <input
            type="email"
            id="email"
            placeholder="Enter your email address"
            required
          />
        </div>
        <button onclick="submitEmail()">Get Updates</button>
        <div id="msg"></div>
      </div>

      <div class="footer">
        <p></p>
      </div>
    </div>

    <img src="img/glitter.gif" alt="Sparkle Effect" class="sparkle-overlay" />

    <script>
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbwk6lTQtecKXZ2gdOmSBKP7b0301UNpyPF1iuM0fJs5SmOkc2KElaPgbeMT3gHOVIBD/exec";
      const startTime = Date.now();
      let hasConverted = false;

      fetch(scriptURL).catch(() => {});

      function submitEmail() {
        const emailField = document.getElementById("email");
        const email = emailField.value.trim();
        const msg = document.getElementById("msg");

        msg.className = "";
        msg.innerText = "";

        const valid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        if (!valid) {
          msg.innerText = "Please enter a valid email address.";
          msg.className = "error";
          return;
        }

        hasConverted = true;
        const timeSpent = Math.round((Date.now() - startTime) / 1000);

        fetch(scriptURL, {
          method: "POST",
          body: new URLSearchParams({
            email,
            time: timeSpent,
            converted: "yes",
          }),
        })
          .then(() => {
            msg.innerText = "Thank you for your interest. We'll be in touch!";
            msg.className = "success";
            emailField.value = "";
            gtag_report_conversion();
          })
          .catch(() => {
            msg.innerText = "Something went wrong. Please try again later.";
            msg.className = "error";
          });
      }

      document
        .getElementById("email")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            submitEmail();
          }
        });
    </script>
  </body>
</html>
